main proc start {
    @.f = {};
    jmp loop;
}

proc loop {
    # creates a linked list:
    %f = {};
    %f.f = @.f;
    @.f = %f;

    %t = {};
    %a = input;
    %t[%a] = loop;
    %t["nice"] = bad;
    %t["wow"] = good;
    %t["nice"] = loop;
    jmp %t[%a];
}

proc good {
    exit;
}

proc bad {
    fail;
}
