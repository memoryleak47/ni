proc init_type_and_object {
    # alloc %type, %object
    %type = {};
    %object = {};

    # fill %type
    %type.type = %type;
    %type.dict = {};

    %type.mro = {};
    %type.mro[0] = %type;
    %type.mro[1] = %object;

    # fill %object
    %object.type = %type;
    %object.dict = {};

    %object.mro = {};
    %object.mro[0] = %object;

    # store them in @.singletons
    @.singletons.type = %type;
    @.singletons.object = %object;

    jmp init_singletons_loop;
}
